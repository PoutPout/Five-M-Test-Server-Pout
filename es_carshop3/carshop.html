<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/shop-homepage.css" rel="stylesheet">

		<script src="js/jquery.js" type="text/javascript"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
	<img id="cursor" src="cursor.webp" style="position: absolute; display:none; z-index: 99;">
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" style='z-index: 1'>
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <b class="navbar-brand">Appuies sur ECHAP pour fermer.</b>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#" style='' id='select-cat-home'>Home</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container">

        <div class="row">

					<div class="col-md-3">
							<p class="lead">Categories</p>
							<div class="list-group">

									<a href="#" style="border-radius: 0;" class="list-group-item" id='select-cat-boats'>Bateaux</a>
							</div>
					</div>

            <div class="col-md-8">

                <div id="home" class="row carousel-holder">

                    <div class="col-md-12">
											<div class="jumbotron">
												<h2><b>Bateaux pas chers !</b></h2>
												<p>Bienvenue sur le premier site de bateaux pas chers de Los Santos</p>
											</div>
                    </div>

                </div>

                <div class="row">



									<div id="boats-cars">

                    <div class="col-sm-4 col-lg-4 col-md-4" id="buy_marquis">
                        <div class="thumbnail">
                            <img src="boats/marquis.webp" alt="">
                            <div class="caption">
                                <h4 class="pull-right">666 666€</h4>
                                <h4><b>WanderSoul</b>
                                </h4>
                                <p>Bateau de feu !</p>
                            </div>
                            <div class="ratings">
                                <p class="pull-right">17 commentaires</p>
                                <p>
                                    <span class="glyphicon glyphicon-star"></span>
                                    <span class="glyphicon glyphicon-star"></span>
                                    <span class="glyphicon glyphicon-star"></span>
                                    <span class="glyphicon glyphicon-star"></span>
                                </p>
                            </div>
                        </div>
                    </div>

									</div>






                </div>

            </div>

        </div>

    </div>
    <!-- /.container -->

    <div class="container">

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; LOS SANTOS BOATS</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

		<script>
		var documentWidth = document.documentElement.clientWidth;
		var documentHeight = document.documentElement.clientHeight;

		var cursor = document.getElementById("cursor");
		var cursorX = documentWidth / 2;
		var cursorY = documentHeight / 2;

		function UpdateCursorPos() {
		    $(cursor).css('left', cursorX)
		    $(cursor).css('top', cursorY)
		}

		function Click(x, y) {
		    var element = $(document.elementFromPoint(x, y));
		    element.focus().click();
		}

		function buyVehicle(veh){
			$.post('http://es_carshop3/buy_vehicle', JSON.stringify({vehicle: veh}));
		}

		$(function() {
			$(cursor).css('display', "none")
			$("body").css('display', "none")
			$("body").css('background', 'none')
		    window.addEventListener('message', function(event) {
		        if (event.data.type == "enableui") {
		            $(cursor).css('display', event.data.enable ? "block" : "none")
		            $("body").css('display', event.data.enable ? "block" : "none")
		            $("body").css('background', event.data.enable ? "white" : "none")

		        } else if (event.data.type == "click") {
		            // Avoid clicking the cursor itself, click 1px to the top/left;
		            Click(cursorX - 1, cursorY - 1);
		        } else if (event.data.type == "vehicles") {
                    for(var i in event.data.enable) {
                        $("#buy_" + i).find(".caption").find(".pull-right").html("Acheté")
                    }
                } else if (event.data.type == "vehicle") {
                    $("#buy_" + event.data.enable).find(".caption").find(".pull-right").html("Acheté")
                }
		    });

		    $(document).mousemove(function(event) {
		        cursorX = event.pageX;
		        cursorY = event.pageY;
		        UpdateCursorPos();
		    });

		    document.onkeyup = function (data) {
		        if (data.which == 27) { // Escape key
		            $.post('http://es_carshop3/escape', JSON.stringify({}));
		        }
		    };

        // Vehicules

				$("#buy_marquis").click(function(){	buyVehicle('marquis')	})


				// Categories

				function hide(){
					$("#home").css('display', 'none')
					$("#boats-cars").css('display', 'none')
					$("#job-vehicles").css('display', 'none')
					$("#sports-cars").css('display', 'none')
					$("#helico-cars").css('display', 'none')
					$("#offroad-cars").css('display', 'none')
					$("#sportsclassic-cars").css('display', 'none')
					$("#super-cars").css('display', 'none')
					$("#sedan-cars").css('display', 'none')
					$("#suv-cars").css('display', 'none')
					$("#cycle-bikes").css('display', 'none')
				}
				hide()

				function selectCat(cat){
					hide()
					if(cat == "job"){
						$("#job-vehicles").css('display', 'block')
					}else if(cat == "boats"){
						$("#boats-cars").css('display', 'block')
					}else if(cat == "home"){
						$("#home").css('display', 'block')
					}else if(cat == "sports"){
						$("#sports-cars").css('display', 'block')
					}else if(cat == "helico"){
						$("#helico-cars").css('display', 'block')
					}else if(cat == "offroad"){
						$("#offroad-cars").css('display', 'block')
					}else if(cat == "sedans"){
						$("#sedan-cars").css('display', 'block')
					}else if(cat == "sportsclassic"){
						$("#sportsclassic-cars").css('display', 'block')
					}else if(cat == "super"){
						$("#super-cars").css('display', 'block')
					}else if(cat == "suv"){
						$("#suv-cars").css('display', 'block')
					}
				}
				selectCat("home")

				$('#select-cat-job').click(function(){ selectCat("job") })
				$('#select-cat-boats').click(function(){ selectCat("boats") })
				$('#select-cat-home').click(function(){ selectCat("home") })
				$('#select-cat-sports').click(function(){ selectCat("sports") })
				$('#select-cat-helico').click(function(){ selectCat("helico") })
				$('#select-cat-offroad').click(function(){ selectCat("offroad") })
				$('#select-cat-sedan').click(function(){ selectCat("sedans") })
				$('#select-cat-sportsclassic').click(function(){ selectCat("sportsclassic") })
				$('#select-cat-super').click(function(){ selectCat("super") })
				$('#select-cat-suv').click(function(){ selectCat("suv") })
		});
  </script> 

</body>

</html>
